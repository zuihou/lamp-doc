---
title: 5.x版本升级日志
article: true
category:
  - 升级日志
tag:
  - 升级日志
  - 5.x版本升级日志
---
## 5.0.5 2024年1月14日

- feat（vben5）: [vben 5 体验版](https://max-datasource.tangyh.top) 已完成：切换企业和机构、切换应用、首页、系统右上角功能

- feat（vben5）: [vben 5 体验版](https://max-datasource.tangyh.top) 单表操作功能完成(可通过“开发运营系统-应用维护”体验)

- refactor(3个前端同步升级): 优化启动命令以及代理参数配置方式，无需频繁修改.env.dev 配置文件

  ```shell
  # 单体版启动
  pnpm dev:boot:column
  pnpm dev:boot:datasource
  
  # 微服务版启动
  pnpm dev:cloud:column
  pnpm dev:cloud:datasource
  ```

- fix(lamp-boot-server): 单体版的缓存前缀和微服务版区分开

- fix(lamp-generator-server、lamp-system-server): 添加SysUser自动注入实现类

- fix: 操作日志监听器消费日志事件，统一调用LogFacade接口

- fix(lamp-generator-server): 代码生成器生成正确的 sa-token-ext 依赖

- fix: 自定义sa-token异常信息，防止在信息中暴露token值

  

## 5.0.4 2024年12月30日

- feat（vben5）: [vben 5 体验版](https://max-datasource.tangyh.top)发布
- fix: 5.0 代码生成器生成项目，本地生成报错，提示：文件不存在
- fix: gateway 需要排除 undertow 和 tomcat 等容器依赖，预防websocket访问报错
- fix: 解决2023.0.1.2和seata2.2.0兼容性问题
- fix: seata 2.2.0 降级为 2.0.0 ，seata 2.2.0有bug
- fix: 修复单体版启用seata时，无法启动的bug
- refactor: 优化单体版配置文件的中seata信息
- fix: token 去除 Bearer 前缀，否则跨服务调用时，token无法传递
- refactor: fastdfs-client的groupId变更为top.tangyh.basic，便于自行维护源码
- refactor: xxl-job-core的groupId变更为top.tangyh.basic，便于自行维护源码
- refactor: 生产环境默认情况下禁用swagger文档
- feat（vben5）: 新增刷新token接口
- feat（vben5）: 刷新token接口对接 lamp-web-max-vben5

## 5.0.3 2024年12月09日20:50:51

- spring-boot-starter-parent.version>3.3.6
- spring-cloud-dependencies.version>2023.0.4
- seata.version>2.2.0
- nacos.version>2.4.3
- hutool.version>5.8.34
- lombok.version>1.18.36
- mybatis-plus.version>3.5.9
- feat(前端项目): soybean版前端支持菜单数据国际化
- feat(前端项目): vben版前端支持菜单数据国际化
- fix(单体模式): boot版本支持读取src/main/filters中的配置参数
- fix(单体模式): boot版本启动时，无法有效的加载小租户插件
- fix(代码生成器): 生成项目后配置文件中，服务名错误，导致注册nacos时与该服务名字不一致
- refactor(代码生成器): 远程下载 和 本地生成 生成相同结构

## 5.0.2 2024年11月11日11:04:32

- fix: 切换租户和部门时，若用户没有单位和部门，将上次登录部门和单位置空
- fix: 切换租户时，若用户没有单位和部门，上下文中存储和记录正确的值
- fix: 切换企业问题时，请求头中的信息错乱的问题
- refactor: 请求头没有传递Authorization时，提示信息优化
- refactor: 重命名GateController.java和GeneralController.java
- feat：soybean版前端：用户中心-员工邀请用户功能-已经实现
- refactor: 日志记录文本消息优化

## 5.0.1 2024年10月16日10:20:01

- fix(lamp-generator): 代码生成器，按照5.0的项目结构生成新服务
- fix(lamp-generator): 修复代码生成器生成新服务后，无法启动的问题
- refactor(lamp-generator): 优化生成的service类的import类
- fix(lamp-database-max): 修复单体模式启动时，系统无法加载当前登录用户uri权限的bug 
- refactor: 部署脚本存放在代码中，打包时一起上传到服务器
- fix(lamp-web-pro): 员工维护页面，不同用户弹窗绑定角色时，复选框没有清空

## 5.0.0 2024年10月09日15:01:57

- 项目名称重命名：
  - lamp-boot-pro-datasource-column 和  lamp-cloud-pro-datasource-column 合并为一个项目：  [lamp-datasource-max](http://git.tangyh.top/zuihou/lamp-datasource-max)
  - lamp-boot-pro-column 和  lamp-cloud-pro-column 合并为一个项目： [lamp-column-max](http://git.tangyh.top/zuihou/lamp-column-max)
  - lamp-util-pro 升级为： [lamp-util-max](http://git.tangyh.top/zuihou/lamp-util-max)
- 数据源模式： 租户初始化脚本位置从lamp-system-server目录移动到 lamp-tenant-datasource-init
- refactor(lamp-generator)：代码生成器的模版文件抽取到lamp-generator-biz层
- Jenkinfile 文件优化，同时兼容单体版和微服务版
- refactor: 优化启动成功后的打印日志
- refactor: 优化启动时输出的banner信息
- fix(lamp-generator-controller): 生成代码模版解决编辑页弹窗标题不正确的问题
- build(lamp-job-executor): 定时任务执行器项目移动到后端项目工程中共同维护
- build(lamp-job-max): 定时任务调度器项目优化，只保留xxl-job-admin项目
- 依赖升级：
  - spring-boot-starter-parent 3.3.4
  - nacos.version>2.4.2
  - hutool.version>5.8.32
  - oshi.version>6.6.4
  - mybatis-spring.version>3.0.4
  - mybatis-plus.version>3.5.8
  - jasypt.version>3.0.5
  - easyexcel.version>4.0.3
