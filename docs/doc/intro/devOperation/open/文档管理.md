---
title: 文档管理
icon: wendang
index: false
category:
  - 功能介绍
tag:
  - 功能介绍
  - 开发运营系统
  - 开放平台	
  - 文档管理
---

## 功能介绍

管理开放平台开放接口的文档，该页面的所有数据据来自于开发者编写的代码和注释，生成文档的流程为：

![生成文档流程图](/images/start/灯灯开放平台_生成文档流程图.drawio.png)

从上图中可以看到，生成文档的步骤大致为：

1. 执行mvn命令，进行文档推送

   「灯灯开放平台」的开发者，在源码中编写好接口和注释后，执行maven的插件，插件会扫描源码中的接口和注释信息，将扫描结果封装为json数据，推送至torna服务（torna服务需要自己单独部署）。

2. 同步文档信息

   「灯灯开放平台」的开发者，在登录「开发运营系统」-「文档管理」进行文档同步。

   - 新建文档应用

     首次新建应用时，会自动同步该应用下的所有文档

   - 同步文档

     后期接口或注释变更后，可以重新执行mvn插件推送文档至torna，然后在【同步】单个或全部文档。

   - 发布文档

     发布文档后，第三方开发者才能在开放文档平台查看文档。

3. 存储文档信息

   同步文档后，lamp-sop-admin-server服务会从torna服务拉取指定文档应用中的文档数据，最终存储到数据库。

![](/images/start/文档管理.png)

### 新增文档应用

新建文档应用时，需要填写一个token，填写的token需要在torna平台提前创建，填写下图的token值。

![](/images/start/torna查看OpenApi.png)

在torna平台的安装和操作步骤可以查看[生成开放文档](../../../open/生成开放文档.md)



填写token后，点击确认按钮，接口会自动同步torna平台的全部接口。



### 同步全部文档

当开发者将自己代码里面编写的接口和注释编写完成或者修改完成，推送至torna后，即可同步该文档应用下的所有文档，覆盖上次同步的文档内容。

### 查看文档

跳转到开放文档页面，预览文档。

![](/images/start/查看文档.png)

### 发布文档

首次同步过来的文档，默认是下线状态，需要手动发布文档，在开放文档平台才能浏览该文档。

### 下线文档

某个文档不在使用时，可以下线该文档。文档下线后，开放文档平台就无法查看该文档

### 同步文档

从torna平台同步单个文档。

## 字段说明

### 文档标题

类或接口上第一行注释。

### 文档名称

`@Open(value = "xxx.xxx")` 指定值

### 文档版本

`@Open(version = "1.0")`  指定值

### 描述

javadoc注释中`@ApiNode` 指定值

### 发布状态

文档的发布状态。

- 已发布：可以预览

- 未发布：不能预览

